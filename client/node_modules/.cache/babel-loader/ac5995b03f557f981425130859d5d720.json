{"ast":null,"code":"var _jsxFileName = \"/home/javiera/Documents/UNIVERSIDAD/2020-2/Arquitectura de Software/aux_arqui_repo/client/src/components/Home/Logged.jsx\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { url_add_room, url_rooms } from \"./../Routes\";\nimport Rooms from '../Rooms/Rooms';\n\nconst HomeLogged = () => {\n  const history = useHistory();\n  const [newRoomName, setNewRoomName] = useState('');\n  const [rooms, setRooms] = useState([]);\n  React.useEffect(() => {\n    var requestOptions = {\n      Accept: 'application/json',\n      method: 'GET'\n    };\n    return fetch(url_rooms, requestOptions).then(response => {\n      try {\n        const data = response.json().then(result => {\n          setRooms(result);\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    });\n  }, []);\n\n  const handleEnterChat = event => {\n    event.preventDefault();\n    const data = event.target.value;\n    var sepData = data.split(\".\");\n    const chatId = sepData[0];\n    const chatName = sepData[1];\n    history.push(`/chat?name=${chatName}&room=${chatId}`);\n    window.location.reload();\n  };\n\n  const handleSubmitNewRoom = event => {\n    var NewRoomHeader = new Headers();\n    const requestOptionsAddRoom = {\n      method: 'POST',\n      headers: NewRoomHeader,\n      redirect: 'follow'\n    };\n    event.preventDefault();\n    const url_ = url_add_room + newRoomName;\n    fetch(url_, requestOptionsAddRoom).then(response => response.text()).catch(error => console.log('error', error));\n    window.location.reload();\n  };\n\n  const handleLogOutClick = () => {\n    window.localStorage.removeItem('chat token');\n    window.location.reload();\n    history.push('/');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    class: \"Full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"Console\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: 'Bar',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: 'Left',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, \"Status: Online\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: 'Right',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: handleLogOutClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 26\n    }\n  }, \" Log Out\")))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"form\", {\n    class: \"mini-form\",\n    onSubmit: handleSubmitNewRoom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: event => setNewRoomName(event.target.value),\n    placeholder: \"room name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Create Room\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 26\n    }\n  }))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 26\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, \"Rooms\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"rooms-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Rooms, {\n    rooms: rooms,\n    handleEnterChat: handleEnterChat,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default HomeLogged;","map":{"version":3,"sources":["/home/javiera/Documents/UNIVERSIDAD/2020-2/Arquitectura de Software/aux_arqui_repo/client/src/components/Home/Logged.jsx"],"names":["React","useState","useHistory","url_add_room","url_rooms","Rooms","HomeLogged","history","newRoomName","setNewRoomName","rooms","setRooms","useEffect","requestOptions","Accept","method","fetch","then","response","data","json","result","err","console","log","handleEnterChat","event","preventDefault","target","value","sepData","split","chatId","chatName","push","window","location","reload","handleSubmitNewRoom","NewRoomHeader","Headers","requestOptionsAddRoom","headers","redirect","url_","text","catch","error","handleLogOutClick","localStorage","removeItem"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { url_add_room, url_rooms } from \"./../Routes\"\nimport Rooms from '../Rooms/Rooms';\n\nconst HomeLogged = () => {\n    const history = useHistory();\n    const [newRoomName, setNewRoomName] = useState('');\n    const [rooms, setRooms] = useState([]);\n\n    React.useEffect(() => {\n        var requestOptions = {\n            Accept: 'application/json',\n            method: 'GET'\n        };\n\n\n        return fetch(url_rooms, requestOptions) \n            .then((response) => {\n                try {\n                    const data = response.json()\n                    .then(result => {\n                        setRooms(result);\n                    })\n                } catch (err) {\n                    console.log(err);\n                }\n        })\n\n    }, []);\n\n    const handleEnterChat = (event) => {\n        event.preventDefault();\n        const data = event.target.value;\n        var sepData = data.split(\".\")\n        const chatId = sepData[0]\n        const chatName = sepData[1]\n        history.push(`/chat?name=${chatName}&room=${chatId}`);\n        window.location.reload();\n    }\n\n    const handleSubmitNewRoom = (event) => { \n        var NewRoomHeader = new Headers();\n        const requestOptionsAddRoom = {\n            method: 'POST',\n            headers: NewRoomHeader,\n            redirect: 'follow'\n        };\n        event.preventDefault();\n        const url_ = url_add_room + newRoomName\n        fetch(url_, requestOptionsAddRoom)\n            .then(response => response.text())\n            .catch(error => console.log('error', error));\n        window.location.reload();\n    }\n\n    const handleLogOutClick = () => {\n        window.localStorage.removeItem('chat token');\n        window.location.reload();\n        history.push('/');\n    }\n \n    return (\n        <div class=\"Full\">\n            <div class=\"Console\">\n            <div className={'Bar'}>\n                <div className={'Left'}>\n                    <h3>Status: Online</h3>\n                </div>\n                <div className={'Right'}>\n                    <h3> <button type=\"submit\" onClick={handleLogOutClick}> Log Out</button></h3>\n                </div>\n            </div>\n                <br></br>\n                <form class=\"mini-form\" onSubmit={handleSubmitNewRoom}>\n                    <div>\n                        <input type=\"text\" onChange={(event) => setNewRoomName(event.target.value)} placeholder=\"room name\"/>\n                    </div>\n                    <br></br>\n                    <div><input type=\"submit\" value=\"Create Room\"></input></div>\n                    \n                </form>\n                <br></br><br></br>\n                <h3>Rooms</h3>\n                <br></br> \n                <div id=\"rooms-list\">\n                    <Rooms rooms={rooms} handleEnterChat={handleEnterChat} />                \n                </div>\n            </div>\n        </div>\n    )\n    \n}\n\nexport default HomeLogged;"]},"metadata":{},"sourceType":"module"}